# ./run.sh 
# Started at ****************** UTC 2018
#
stage 0: Data preparation
Preparing train and test data
utils/fix_data_dir.sh: file data/all/utt2spk is not in sorted order or not unique, sorting it
utils/fix_data_dir.sh: file data/all/text is not in sorted order or not unique, sorting it
utils/fix_data_dir.sh: file data/all/wav.scp is not in sorted order or not unique, sorting it
fix_data_dir.sh: kept all 21089 utterances.
fix_data_dir.sh: old files are kept in data/all/.backup
fix_data_dir.sh: kept all 18977 utterances.
fix_data_dir.sh: old files are kept in data/train/.backup
fix_data_dir.sh: kept all 2112 utterances.
fix_data_dir.sh: old files are kept in data/test/.backup
Data preparation completed.
Speakers, src=18977, trn=18788, cv=189 /tmp/alexht_hung_Vfs8U/speakers_cv
utils/data/subset_data_dir.sh: reducing #utt from 18977 to 18788
utils/data/subset_data_dir.sh: reducing #utt from 18977 to 189
utils/data/perturb_data_dir_speed_3way.sh: making sure the utt2dur and the reco2dur files are present
... in data/tr99, because obtaining it after speed-perturbing
... would be very slow, and you might need them.
utils/data/get_utt2dur.sh: segments file does not exist so getting durations from wave files
utils/data/get_utt2dur.sh: could not get utterance lengths from sphere-file headers, using wav-to-duration
utils/data/get_utt2dur.sh: computed data/tr99/utt2dur
utils/data/get_reco2dur.sh: data/tr99/wav.scp indexed by utt-id; copying utt2dur to reco2dur
utils/data/perturb_data_dir_speed.sh: generated speed-perturbed version of data in data/tr99, in data/tr99_sp_speed0.9
utils/validate_data_dir.sh: Successfully validated data-directory data/tr99_sp_speed0.9
utils/data/perturb_data_dir_speed.sh: generated speed-perturbed version of data in data/tr99, in data/tr99_sp_speed1.1
utils/validate_data_dir.sh: Successfully validated data-directory data/tr99_sp_speed1.1
utils/data/combine_data.sh data/tr99_sp data/tr99 data/tr99_sp_speed0.9 data/tr99_sp_speed1.1
utils/data/combine_data.sh: combined utt2uniq
utils/data/combine_data.sh [info]: not combining segments as it does not exist
utils/data/combine_data.sh: combined utt2spk
utils/data/combine_data.sh [info]: not combining utt2lang as it does not exist
utils/data/combine_data.sh: combined utt2dur
utils/data/combine_data.sh: combined reco2dur
utils/data/combine_data.sh [info]: not combining feats.scp as it does not exist
utils/data/combine_data.sh: combined text
utils/data/combine_data.sh [info]: not combining cmvn.scp as it does not exist
utils/data/combine_data.sh [info]: not combining vad.scp as it does not exist
utils/data/combine_data.sh [info]: not combining reco2file_and_channel as it does not exist
utils/data/combine_data.sh: combined wav.scp
utils/data/combine_data.sh [info]: not combining spk2gender as it does not exist
fix_data_dir.sh: kept all 56364 utterances.
fix_data_dir.sh: old files are kept in data/tr99_sp/.backup
utils/data/perturb_data_dir_speed_3way.sh: generated 3-way speed-perturbed version of data in data/tr99, in data/tr99_sp
utils/validate_data_dir.sh: Successfully validated data-directory data/tr99_sp
utils/data/perturb_data_dir_volume.sh: added volume perturbation to the data in data/tr99_sp
local/download_and_untar.sh: data part train was already successfully extracted, nothing to do.
stage 1: Feature Generation
steps/make_mfcc.sh --cmd queue.pl --mem 2G --nj 32 --write-utt2num-frames true data/tr99_sp
utils/validate_data_dir.sh: Successfully validated data-directory data/tr99_sp
steps/make_mfcc.sh: [info]: no segments file exists: assuming wav.scp indexed by utterance.
Succeeded creating MFCC features for tr99_sp
fix_data_dir.sh: kept all 56364 utterances.
fix_data_dir.sh: old files are kept in data/tr99_sp/.backup
steps/make_mfcc.sh --cmd queue.pl --mem 2G --nj 32 --write-utt2num-frames true data/cv01
utils/validate_data_dir.sh: Successfully validated data-directory data/cv01
steps/make_mfcc.sh: [info]: no segments file exists: assuming wav.scp indexed by utterance.
Succeeded creating MFCC features for cv01
fix_data_dir.sh: kept all 189 utterances.
fix_data_dir.sh: old files are kept in data/cv01/.backup
steps/make_mfcc.sh --cmd queue.pl --mem 2G --nj 32 --write-utt2num-frames true data/test
utils/validate_data_dir.sh: Successfully validated data-directory data/test
steps/make_mfcc.sh: [info]: no segments file exists: assuming wav.scp indexed by utterance.
Succeeded creating MFCC features for test
fix_data_dir.sh: kept all 2112 utterances.
fix_data_dir.sh: old files are kept in data/test/.backup
compute-cmvn-stats scp:data/tr99_sp/feats.scp data/tr99_sp/cmvn.ark 
LOG (compute-cmvn-stats[5.5.16~1410-03355]:main():compute-cmvn-stats.cc:168) Wrote global CMVN stats to data/tr99_sp/cmvn.ark
LOG (compute-cmvn-stats[5.5.16~1410-03355]:main():compute-cmvn-stats.cc:171) Done accumulating CMVN stats for 56364 utterances; 0 had errors.
dictionary: data/lang_1char/tr99_sp_units.txt
stage 2: Dictionary and Json Data Preparation
make a non-linguistic symbol list
make a dictionary
4007 data/lang_1char/tr99_sp_units.txt
make json files
sym2int.pl: replacing 琢 with 1
sym2int.pl: replacing 燠 with 1
sym2int.pl: replacing 瞠 with 1
sym2int.pl: replacing 芷 with 1
sym2int.pl: replacing 芯 with 1
sym2int.pl: replacing 菱 with 1
sym2int.pl: replacing 牒 with 1
sym2int.pl: replacing 囑 with 1
sym2int.pl: replacing 榴 with 1
** Replaced 9 instances of OOVs with 1
sym2int.pl: replacing 栢 with 1
sym2int.pl: replacing 鞏 with 1
sym2int.pl: replacing 麒 with 1
sym2int.pl: replacing 稠 with 1
sym2int.pl: replacing 棠 with 1
sym2int.pl: replacing 棠 with 1
sym2int.pl: replacing 棠 with 1
sym2int.pl: replacing 撻 with 1
sym2int.pl: replacing 酋 with 1
sym2int.pl: replacing 闕 with 1
sym2int.pl: replacing 羯 with 1
sym2int.pl: replacing 苟 with 1
sym2int.pl: replacing 棠 with 1
sym2int.pl: replacing 棠 with 1
sym2int.pl: replacing 棠 with 1
sym2int.pl: replacing 摟 with 1
sym2int.pl: replacing 摟 with 1
sym2int.pl: replacing 摟 with 1
sym2int.pl: replacing 駿 with 1
sym2int.pl: replacing 駿 with 1
sym2int.pl: not warning for OOVs any more times
** Replaced 171 instances of OOVs with 1
stage 3: Network Training
stage 4: Decoding
2018-11-12 15:26:25,913 (splitjson:41) INFO: number of utterances = 2112
2018-11-12 16:19:13,846 (concatjson:28) INFO: new json has 2112 utterances
2018-11-12 16:19:14,057 (json2trn:22) INFO: reading exp/tr99_sp_pytorch_a/decode_test_beam20_emodel.acc.best_p0.0_len0.0-0.0/data.json
2018-11-12 16:19:14,113 (json2trn:26) INFO: reading data/lang_1char/tr99_sp_units.txt
2018-11-12 16:19:14,138 (json2trn:34) INFO: writing hyp trn to exp/tr99_sp_pytorch_a/decode_test_beam20_emodel.acc.best_p0.0_len0.0-0.0/hyp.trn
2018-11-12 16:19:14,138 (json2trn:35) INFO: writing ref trn to exp/tr99_sp_pytorch_a/decode_test_beam20_emodel.acc.best_p0.0_len0.0-0.0/ref.trn
write a CER (or TER) result in exp/tr99_sp_pytorch_a/decode_test_beam20_emodel.acc.best_p0.0_len0.0-0.0/result.txt
| SPKR             | # Snt  # Wrd | Corr     Sub     Del     Ins    Err   S.Err  |
| Sum/Avg          | 2112   349578| 81.8    11.7     6.5     5.6   23.9    99.9  |
write a WER result in exp/tr99_sp_pytorch_a/decode_test_beam20_emodel.acc.best_p0.0_len0.0-0.0/result.wrd.txt
| SPKR             | # Snt   # Wrd  | Corr     Sub     Del      Ins     Err   S.Err  |
| Sum/Avg          | 2112    135972 | 70.6    23.2     6.2      7.5    36.8    99.9  |
stage 5: LM Preparation
stage 6: Decoding
2018-11-13 14:54:51,537 (splitjson:41) INFO: number of utterances = 2112
2018-11-13 15:50:36,450 (concatjson:28) INFO: new json has 2112 utterances
2018-11-13 15:50:36,662 (json2trn:22) INFO: reading exp/tr99_sp_pytorch_a/decode_rnnlm_test_beam20_emodel.acc.best_p0.0_len0.0-0.0/data.json
2018-11-13 15:50:36,730 (json2trn:26) INFO: reading data/lang_1char/tr99_sp_units.txt
2018-11-13 15:50:36,753 (json2trn:34) INFO: writing hyp trn to exp/tr99_sp_pytorch_a/decode_rnnlm_test_beam20_emodel.acc.best_p0.0_len0.0-0.0/hyp$
2018-11-13 15:50:36,753 (json2trn:35) INFO: writing ref trn to exp/tr99_sp_pytorch_a/decode_rnnlm_test_beam20_emodel.acc.best_p0.0_len0.0-0.0/ref$
write a CER (or TER) result in exp/tr99_sp_pytorch_a/decode_rnnlm_test_beam20_emodel.acc.best_p0.0_len0.0-0.0/result.txt
| SPKR             |  # Snt  # Wrd  |  Corr     Sub      Del     Ins      Err   S.Err  |
| Sum/Avg          |  2112   349578 |  80.9    11.8      7.3     5.3     24.3    99.9  |
write a WER result in exp/tr99_sp_pytorch_a/decode_rnnlm_test_beam20_emodel.acc.best_p0.0_len0.0-0.0/result.wrd.txt
|  SPKR             |  # Snt   # Wrd  |  Corr     Sub      Del      Ins      Err    S.Err  |
|  Sum/Avg          |  2112    135972 |  69.6    22.8      7.6      5.9     36.3     99.9  |
Finished
# Accounting: time=******** threads=1
# Ended (code 0) at ****** UTC 2018, elapsed time ******* seconds
